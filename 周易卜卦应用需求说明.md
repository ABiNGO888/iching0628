# 周易卜卦应用需求说明

## 1. 项目概述

"周易卜卦应用"是一款基于传统周易理论的卜卦工具，旨在为用户提供便捷、准确的卜卦体验。应用支持金钱卦和数字卦两种起卦方式，并提供详细的卦象解读和分析。

## 2. 功能需求

### 2.1 起卦功能

#### 2.1.1 金钱卦
- **默念问题**：用户进入金钱卦页面后，首先显示默念问题的引导界面
- **手动摇卦**：用户需手动点击"摇卦"按钮，依次生成六爻
- **铜钱动画**：每次摇卦时显示三枚铜钱的翻转动画
- **快速跳过**：用户可以点击屏幕任意位置跳过动画，直接显示结果
- **爻位显示**：每生成一爻后，显示该爻的类型（老阳、老阴、少阳、少阴）及其符号
- **变爻标记**：对于变爻（老阳、老阴）进行特殊标记
- **卦象构建**：随着爻的生成，逐步构建完整卦象

#### 2.1.2 数字卦
- **随机生成**：支持随机生成三个三位数
- **手动输入**：支持用户手动输入三个三位数
- **数字动画**：随机生成时显示数字滚动动画
- **卦象转换**：根据数字组合自动生成卦象

### 2.2 解卦功能

- **卦象名称**：显示生成卦象的名称（如"乾为天"、"坤为地"等）
- **卦辞显示**：显示对应卦象的卦辞
- **现代解读**：提供卦象的现代解释
- **变卦解析**：当有变爻时，显示变卦及其解释
- **动爻解析**：针对变爻提供专门的解读
- **结果查看**：占卦完成后，提供"查看结果"按钮，点击后进入专门的结果页面
- **演卦回放**：提供"观看演卦"功能，可回放占卦过程

### 2.3 AI功能

- **AI解卦画像**：基于卦象和用户问题生成AI解读图像
- **AI服务设置**：支持连接不同的AI服务提供商
- **自定义提示词**：允许用户自定义AI生成的提示词

### 2.4 用户功能

- **用户注册/登录**：支持用户注册和登录
- **会员系统**：区分免费用户和VIP会员
- **历史记录**：保存用户的占卦历史
- **结果保存**：支持将卦象结果保存到相册
- **结果分享**：支持将卦象结果分享到社交媒体

## 3. 界面需求

### 3.1 整体风格
- **配色方案**：以米色(#f5eee1)为主色调，搭配深棕色(#8B4513)作为强调色
- **字体选择**：正文使用无衬线字体，标题使用略带古风的字体
- **布局设计**：简洁、直观，避免过多装饰元素

### 3.2 主要页面

#### 3.2.1 首页
- 应用名称和简介
- 卜卦方式选择（金钱卦/数字卦）
- 登录/注册入口
- 底部导航栏

#### 3.2.2 金钱卦页面
- 默念问题引导
- 摇卦区域
- 铜钱动画展示
- 卦象构建区域
- 解卦结果区域

#### 3.2.3 数字卦页面
- 数字输入/生成区域
- 数字动画展示
- 卦象构建区域
- 解卦结果区域

#### 3.2.4 结果页面
- 卦象图形展示
- 卦象名称和时间
- 卦辞和解读内容
- 变卦信息（如有）
- 保存/分享按钮
- "再来一卦"按钮

#### 3.2.5 个人中心
- 用户信息
- 会员状态
- 使用统计
- 历史记录
- 设置选项

## 4. 技术要求

### 4.1 前端技术
- **框架**：Next.js (App Router)
- **UI组件**：shadcn/ui
- **动画**：Framer Motion
- **状态管理**：React Hooks

### 4.2 后端技术
- **API**：Next.js API Routes
- **数据库**：可选择合适的数据库服务
- **认证**：支持多种登录方式

### 4.3 AI集成
- **图像生成**：支持接入多种AI服务
- **API管理**：安全存储和使用API密钥

## 5. 非功能需求

### 5.1 性能要求
- 页面加载时间不超过3秒
- 动画流畅，无卡顿
- 响应式设计，适配不同设备

### 5.2 安全要求
- 用户数据加密存储
- API密钥安全管理
- 防止恶意请求和攻击

### 5.3 可用性要求
- 界面直观易用
- 提供清晰的用户引导
- 适当的错误处理和提示

## 6. 未来扩展

### 6.1 功能扩展
- 增加更多起卦方式（如梅花易数）
- 提供更详细的卦象解读
- 加入社区功能，用户可分享和讨论卦象

### 6.2 技术扩展
- 移动应用开发
- 离线使用支持
- 多语言支持

## 7. 交付物

- 完整的源代码
- 详细的文档
- 部署指南
- 用户手册

## 8. 时间线

- **阶段一**：基础功能开发（起卦、解卦）
- **阶段二**：用户系统和数据存储
- **阶段三**：AI功能集成
- **阶段四**：UI优化和测试
- **阶段五**：发布和维护
